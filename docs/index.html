<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Rice Business Stock Market Data Portal - User Guide</title>
    <link href="https://cdn.jsdelivr.net/npm/bootswatch@5.3.0/dist/flatly/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.0/font/bootstrap-icons.css" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <style>
        /* Warm gray palette consistent with Flatly theme */
        :root {
            --flatly-gray: #6c757d;
            --flatly-gray-light: #8a939b;
            --flatly-gray-dark: #495057;
            --rice-blue: #003c71;
            --flatly-gray: #95a5a6;
        }
        
        /* Header with Rice branding */
        .header-section {
            background: linear-gradient(135deg, var(--flatly-gray) 0%, var(--flatly-gray) 100%);
            color: white;
            padding: 2rem 0;
            margin-bottom: 2rem;
            border-radius: 0.5rem;
        }
        
        .header-section h1 {
            color: white !important;
            margin-bottom: 0.5rem;
        }
        
        .logo-container {
            display: flex;
            align-items: center;
            justify-content: space-between;
            width: 100%;
            margin-bottom: 1rem;
            padding: 0 2%;
        }
        
        .logo-container img {
            max-height: 120px;
            object-fit: contain;
        }
        
        .mcnair-logo {
            border-radius: 10px;
            border: 2px solid white;
            background: white;
            padding: 2px;
            width: 20%;
            height: 80px;
            object-fit: contain;
        }
        
        .logo-container h1 {
            width: 45%;
            text-align: center;
            margin: 0;
            font-size: 1.8rem;
        }
        
        .rice-logo {           
            border-radius: 10px;
            border: 2px solid white;
            background: white;
            padding: 2px;
            width: 20%;
            height: 80px;
            object-fit: contain;
        }
        
        /* Code styling */
        pre {
            background-color: #f8f9fa;
            border: 1px solid #dee2e6;
            border-radius: 0.375rem;
            padding: 1rem;
            margin-bottom: 1rem;
        }
        
        code {
            background-color: #f8f9fa;
            color: #d63384;
            padding: 0.125rem 0.25rem;
            border-radius: 0.25rem;
        }
        
        pre code {
            background-color: transparent;
            color: #212529;
            padding: 0;
        }
        
        /* Content styling */
        .content {
            line-height: 1.6;
        }
        
        .content h3 {
            color: #18bc9c;
            margin-top: 2rem;
            margin-bottom: 1rem;
        }
        
        .content h4 {
            color: #495057;
            margin-top: 1.5rem;
            margin-bottom: 0.75rem;
        }
        
        .content ul {
            margin-bottom: 1.5rem;
        }
        
        .content li {
            margin-bottom: 0.25rem;
        }
        
        .content a {
            color: #18bc9c;
            text-decoration: none;
        }
        
        .content a:hover {
            color: #15a085;
            text-decoration: underline;
        }
    </style>
</head>
<body>
    <div class="container-fluid">
        <div class="row justify-content-center">
            <div class="col-lg-10 col-md-11 col-sm-12">
                
                <!-- Rice University Header -->
                <div class="header-section">
                    <div class="logo-container">
                        <img src="docs/images/mcnair.jpg" alt="McNair Center" class="mcnair-logo">
                        <h1>Rice Business Stock Market Data Portal</h1>
                        <img src="docs/images/rice-business.jpg" alt="Rice Business" class="rice-logo">
                    </div>
                </div>

                <div class="card shadow-sm">
                    <div class="card-body content">
                        
                        <h1>User Guide</h1>

                        <h3>Quick Links</h3>
                        <ul>
                            <li><a href="https://data-portal.rice-business.org" target="_blank">Data Portal <i class="bi bi-box-arrow-up-right"></i></a></li>
                            <li><a href="tables.html">Table Descriptions</a></li>
                            <li><a href="https://colab.research.google.com/github/kerryback/data-portal-notebook/blob/main/Rice_Business_Data_Example.ipynb" target="_blank">Python API Tutorial <i class="bi bi-box-arrow-up-right"></i></a></li>
                        </ul>

                        <h3>Queries</h3>
                        <p>Queries are SQL (Structured Query Language) commands. To enter a command, click on the "Execute Query" button. Pressing the Enter key will not execute the query.</p>
                        
                        <p>SQL is not case sensitive. It is common to see SQL commands written in uppercase, and we will do so below, but lowercase is also accepted. Cases matter only when referring to variables, tables, and other database objects. Variable names must be quoted with single quotes. Table names are not quoted.</p>
                        
                        <p>SQL commands can be written over multiple lines. For human readability, it is common to write different components of a command on separate lines, as you will see in the following examples.</p>
                        
                        <p>You can enter any of these queries in the <code>Enter Query</code> box on the data portal. Substitute <code>table_name</code> with the name of the table you want to query. Substitute <code>variable1</code>, <code>variable2</code>, etc. with the names of the variables you want to query. Substitute <code>condition</code> with the condition you want to apply.</p>

                        <h4>Get all data from a table</h4>
                        <pre><code>SELECT * FROM table_name</code></pre>

                        <h4>Get specific columns from a table</h4>
                        <pre><code>SELECT variable1, variable2 FROM table_name</code></pre>

                        <h4>Get specific rows from a table</h4>
                        <pre><code>SELECT * FROM table_name WHERE condition</code></pre>

                        <h4>Get specific rows and columns from a table</h4>
                        <pre><code>SELECT column1, column2 FROM table_name 
WHERE condition</code></pre>

                        <h4>Example of conditions</h4>
                        <pre><code>WHERE ticker = 'AAPL' and date >= '2024-01-01'</code></pre>

                        <h4>Get only the first rows from a table</h4>
                        <p>This is useful to get an understanding of a table structure.</p>
                        <pre><code>SELECT * FROM table_name LIMIT 10</code></pre>

                        <h4>Get the number of rows in a table</h4>
                        <pre><code>SELECT COUNT(*) FROM table_name</code></pre>

                        <h4>Join tables</h4>
                        <p>We will often want to get an industry classification from the Tickers table to combine with variables selected from another table. This is called a join operation. Other join operations are also useful. The Tickers table contains several industry and sector classifications (industry, sector, sicindustry, sicsector, famaindustry, siccode). The "as" in the following example can be omitted.</p>
                        <pre><code>SELECT A.ticker, A.industry, B.date, B.close
FROM tickers as A inner join sep as B on A.ticker = B.ticker
WHERE B.date = (SELECT MAX(date) FROM B)</code></pre>

                        <h4>Close and open variables in sep table</h4>
                        <p>The sep table contains daily closing prices and adjusted closing prices (close and adjclose). It also contains the open price (open).</p>
                        
                    </div>
                </div>
            </div>
        </div>
    </div>
</body>
</html>